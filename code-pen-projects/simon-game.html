<html>

<script>
  var currentGame = [];
  var count = 0;
  var game = {
    possibilities: ["green", "blue", "red", "yellow"],
    initialColors: ["#ffffff", "#ffffff", "#ffffff", "#ffffff"],
    player: [],
    // // sound: {
    // //   blue: new Audio("https://s3.amazonaws.com/freecodecamp/simonSound1.mp3"),
    // //   red: new Audio("https://s3.amazonaws.com/freecodecamp/simonSound2.mp3"),
    // //   yellow: new Audio("https://s3.amazonaws.com/freecodecamp/simonSound3.mp3"),
    // //   green: new Audio("https://s3.amazonaws.com/freecodecamp/simonSound4.mp3")
    // }
    // strict: false,
  };

  function startGame() {
    const showTileFor = 1000;

    var randomColor = Math.floor(Math.random() * game.possibilities.length);
    currentGame.push(game.possibilities[randomColor]);


    var displayColors = setInterval(function () {
      var currentPossibility = currentGame[count];
      document.getElementById(currentPossibility).style.background = currentPossibility;

      setTimeout(function () {

        document.getElementById(currentPossibility).style.background = "#ffffff";// initialColors[possibilities.indexOf(currentPossibility)];
      }, showTileFor);


      count += 1;
      document.getElementById("count").innerHTML = count;

      console.log("come :" + currentGame);
      console.log("player :" + game.player);
      console.log("randomColor : " + randomColor)

      //  if (count === count.length) {
      clearInterval(displayColors);
      //  }

    }, showTileFor * 1.1);

  }

  function player(id) {

    game.player.push(id);
    if (currentGame.length === game.player.length) {
      if (currentGame.toString() !== game.player.toString()) {
        alert("wrong move");
      } else {
        startGame();
        game.player = [];
      }
    }
  }

</script>
<style>
  body {
    background-color: #0C090A;
  }
  /* coral */

  h1 {
    color: white;
  }

  #blue {
    border-radius: 25px;
    background: #ffffff;
    padding: 20px;
    width: 200px;
    height: 150px;
  }

  #green {
    border-radius: 25px;
    background: #ffffff;
    padding: 20px;
    width: 200px;
    height: 150px;
    margin-left: 10cm;
  }

  #red {
    border-radius: 25px;
    background: #ffffff;
    padding: 20px;
    width: 200px;
    height: 150px;
    position: relative;
    bottom: 150px;
    right: 180px
  }

  #yellow {
    border-radius: 25px;
    background: #ffffff;
    padding: 20px;
    width: 200px;
    height: 150px;
    bottom: 150px;
    position: relative;
  }

  .buttons {
    bottom: 350px;
    position: relative;
  }


</style>

<body>
  <center>
    <h1> Simon Game </h1>

    <div class="fourTable">
      <button id="blue" onclick="player('blue')"></button>
    </div>
    <div class="fourTable">
      <button id="green" onclick="player('green')"></button>
    </div>
    <div class="fourTable">
      <button id="red" onclick="player('red')"></button>
    </div>
    <div class="fourTable">
      <button id="yellow" onclick="player('yellow')"></button>
    </div>
    <div class="buttons">

      <button id="currentPossibility" onclick="startGame()">Start!</button>
      <button class="btn btn-warning text-center" data-dismiss="modal" onClick="newGame()"> Reset!</button>
      <h3 id="count"> </h3>
    </div>
    <div id="strictLabel">STRICT</div>
  </center>
</body>

</html>